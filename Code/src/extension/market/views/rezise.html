<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Resizable Split View Examples</title>
    <link href="https://www.jqueryscript.net/css/jquerysctipttop.css" rel="stylesheet" type="text/css">

</head>
<style>
    html,
    body {
        width: 100%;
        height: 100%;
        font-family: sans-serif;
        font-size: 1.5em;
        color: #FFF;
    }

    body {
        display: flex;
        flex-direction: row;
        -moz-user-select: -moz-none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -o-user-select: none;
        user-select: none;
    }

    .container {
        display: flex;
        flex: 1 1 auto;
    }

    .horizontal {
        flex-direction: row;
    }

    .vertical {
        flex-direction: column;
    }

    .box {
        flex: 1 1 0px;
        background: linear-gradient(45deg, #1D1F20, #2F3031) repeat scroll 0% 0% transparent !important;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        overflow-x: hidden;
        overflow-y: auto;
        white-space: nowrap;
    }

    .resizer {
        flex: 0 0 auto;
    }

    .resizer[data-resizer-type=H] {
        width: 10px;
        background: linear-gradient(to right, #505050, #383838) repeat scroll 0% 0% transparent;
        cursor: col-resize;
        box-shadow: 1px 0px 0px #6E6E6E inset, 2px 0px 2px rgba(0, 0, 0, 0.4);
    }

    .resizer[data-resizer-type=V] {
        height: 10px;
        background: linear-gradient(to bottom, #505050, #383838) repeat scroll 0% 0% transparent;
        cursor: row-resize;
        box-shadow: 0px 1px 0px #6E6E6E inset, 0px 2px 2px rgba(0, 0, 0, 0.4);
    }
</style>

<body>
    <div class="container horizontal">
        <div class="container vertical">
            <div id="box_1" class="box">
                <p>box 1</p>
                <p>box 1</p>
                <p>box 1</p>
                <p>box 1</p>
                <p>box 1</p>
                <p>box 1</p>
                <p>box 1</p>
                <p>box 1</p>
                <p>box 1</p>
            </div>
            <div name="resizerV1"></div>
            <div id="box_2" class="box">
                <p>box 1</p>
                <p>box 1</p>
                <p>box 1</p>
                <p>box 1</p>
                <p>box 1</p>
                <p>box 1</p>
                <p>box 1</p>
                <p>box 1</p>
                <p>box 1</p>
            </div>
            <div name="resizerV2"></div>
            <div id="box_5" class="box">
                <p>box 1</p>
                <p>box 1</p>
                <p>box 1</p>
                <p>box 1</p>
                <p>box 1</p>
                <p>box 1</p>
                <p>box 1</p>
                <p>box 1</p>
                <p>box 1</p>
            </div>
        </div>
        <div name="resizerH1"></div>
        <div id="box_3" class="box" style="display:flex;flex-direction:column">BOX 4<br />
            <p style="white-space:normal;text-align:center;font-size:0.5em;">drag and drop vertical and horizontal bars
                to change the flex ratio of boxes</p>
        </div>
        <div name="resizerH2"></div>
        <div id="box_4" class="box">BOX 5</div>
    </div>
    <script>
        window.onload = function () {
            new Resizer(document.querySelector('[name=resizerH1]'), 'H');
            new Resizer(document.querySelector('[name=resizerH2]'), 'H');
            new Resizer(document.querySelector('[name=resizerV1]'), 'V');
            new Resizer(document.querySelector('[name=resizerV2]'), 'V');
        };

        if (typeof Resizer === 'undefined') {

            var Resizer = function (resizerNode, type, options) {
                resizerNode.classList.add('resizer');
                resizerNode.setAttribute('data-resizer-type', type);
                this.hidebar = (typeof options === 'undefined' ? null : options.hidebar);
                this.callbackMove = (typeof options === 'undefined' ? null : options.callbackMove);
                this.callbackStop = (typeof options === 'undefined' ? null : options.callbackStop);
                this.processing = false;
                this.container = {
                    node: resizerNode.parentNode,
                    playingSize: null,
                    playingRatio: null
                };
                this.beforeBox = {
                    node: resizerNode.previousElementSibling,
                    ratio: null,
                    size: null
                };
                this.resizer = {
                    node: resizerNode,
                    type: type
                };
                this.afterBox = {
                    node: resizerNode.nextElementSibling,
                    ratio: null,
                    size: null
                };
                this.mousePosition = null;
                this.beforeBox.node.style.flexGrow = 1;
                this.afterBox.node.style.flexGrow = 1;
                this.beforeBox.node.style.flexShrink = 1;
                this.afterBox.node.style.flexShrink = 1;
                this.beforeBox.node.style.flexBasis = 0;
                this.afterBox.node.style.flexBasis = 0;
                this.resizer.node.addEventListener('mousedown', this.startProcess.bind(this), false);
            };

            Resizer.prototype = {
                startProcess: function (event) {
                    if (this.processing) {
                        return false;
                    }
                    this.processing = true;
                    if (this.hidebar) {
                        this.resizer.node.style.display = 'none';
                    }
                    this.beforeBox.ratio = parseFloat(this.beforeBox.node.style.flexGrow);
                    this.afterBox.ratio = parseFloat(this.afterBox.node.style.flexGrow);
                    this.mousePosition = (this.resizer.type === 'H' ? event.clientX : event.clientY);
                    this.beforeBox.size = (this.resizer.type === 'H' ? this.beforeBox.node.offsetWidth : this.beforeBox.node.offsetHeight);
                    this.afterBox.size = (this.resizer.type === 'H' ? this.afterBox.node.offsetWidth : this.afterBox.node.offsetHeight);
                    this.container.playingSize = this.beforeBox.size + this.afterBox.size;
                    this.container.playingRatio = this.beforeBox.ratio + this.afterBox.ratio;
                    this.stopProcessFunctionBinded = this.stopProcess.bind(this);
                    document.addEventListener('mouseup', this.stopProcessFunctionBinded, false);
                    this.processFunctionBinded = this.process.bind(this);
                    document.addEventListener('mousemove', this.processFunctionBinded, false);
                },
                process: function (event) {
                    if (!this.processing) {
                        return false;
                    }
                    var mousePositionNew = (this.resizer.type === 'H' ? event.clientX : event.clientY);
                    var delta = mousePositionNew - this.mousePosition;
                    var ratio1, ratio2;
                    ratio1 = (this.beforeBox.size + delta) * this.container.playingRatio / this.container.playingSize;
                    if (ratio1 <= 0) {
                        ratio1 = 0;
                        ratio2 = this.container.playingRatio;
                    } else if (ratio1 >= this.container.playingRatio) {
                        ratio1 = this.container.playingRatio;
                        ratio2 = 0;
                    } else {
                        ratio2 = (this.afterBox.size - delta) * this.container.playingRatio / this.container.playingSize;
                    }
                    this.beforeBox.node.style.flexGrow = ratio1;
                    this.afterBox.node.style.flexGrow = ratio2;
                    this.beforeBox.node.style.flexShrink = ratio2;
                    this.afterBox.node.style.flexShrink = ratio1;
                    if (typeof this.callbackMove === 'function') {
                        this.callbackMove();
                    }
                },
                stopProcess: function (event) {
                    document.removeEventListener('mousemove', this.processFunctionBinded, false);
                    this.processFunctionBinded = null;
                    document.removeEventListener('mouseup', this.stopProcessFunctionBinded, false);
                    this.stopProcessFunctionBinded = null;
                    if (this.hidebar) {
                        this.resizer.node.style.display = '';
                    }
                    // lancer la fonction de callback
                    if (typeof this.callbackStop === 'function') {
                        this.callbackStop();
                    }
                    // r√©initialiser le flag
                    this.processing = false;
                },
            };
        } else {
            console.error('"Resizer" class already exists !');
        }
    </script>
</body>

</html>